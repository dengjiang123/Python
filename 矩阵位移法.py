import numpy as np
from math import *

k1=10**4*np.mat([
    [4.05,0,-8.1,-4.05,0,-8.1],
    [0,180,0,0,-180,0],
    [-8.1,0,21.6,8.1,0,10.8],
    [-4.05,0,8.1,4.05,0,8.1],
    [0,-180,0,0,180,0],
    [-8.1,0,10.8,8.1,0,21.6]
])
l1=[1,2,3,0,0,0]

k2=10**4*np.mat([
    [180,0,0,-180,0,0],
    [0,4.05,8.1,0,-4.05,8.1],
    [0,8.1,21.6,0,-8.1,10.8],
    [-180,0,0,180,0,0],
    [0,-4.05,-8.1,0,4.05,-8.1],
    [0,8.1,10.8,0,-8.1,21.6]
])
l2=[1,2,4,5,6,7]

k3=10**4*np.mat([
    [53.167,68.125,-4.147,-53.167,-68.125,-4.147],
    [68.125,92.906,3.110,-68.125,-92.906,3.110],
    [-4.147,3.110,17.280,4.147,-3.110,8.640],
    [-53.167,-68.125,4.147,53.167,68.125,4.147],
    [-68.125,-92.906,-3.110,68.125,92.906,-3.110],
    [-4.147,3.110,8.640,4.147,-3.110,17.280],
])
l3=[5,6,7,8,0,0]

F=np.mat([10,0,0,0,0,20,25,-15])
k=np.mat([
    [0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0],
])

k1=np.array(k1)
k2=np.array(k2)
k3=np.array(k3)
k=np.array(k)

#print(k1[0][0])

for i in range(1,9):
    for j in range(1,9):
        if (i in l1) and (j in l1):
            #print(i,j,l1.index(i),l1.index(j))
            k[i-1][j-1]+=k1[l1.index(i)][l1.index(j)]
        if (i in l2) and (j in l2):
            #print(i, j, l2.index(i), l2.index(j))
            k[i-1][j-1]+=k2[l2.index(i)][l2.index(j)]
        if (i in l3) and (j in l3):
            #print(i, j, l3.index(i), l3.index(j))
            k[i-1][j-1]+=k3[l3.index(i)][l3.index(j)]


k=np.mat(k)
print(k)
print(np.linalg.solve(k,np.transpose(F)))

